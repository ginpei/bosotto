# 開発ログ

## 2025-03-06

### プロジェクト初期化

- Honoプロジェクトを`npm create hono@latest`で作成（nodejsテンプレート）
- Gitリポジトリを初期化
- 基本的なプロジェクト構造を確認

### 計画

- Twitter風メモ帳アプリを作成
- 投稿内容は時系列に並ぶ
- データはクライアント側（ブラウザ）に保存
- TypeScriptを使用（厳格な型チェック）
- React + Tailwind CSSでUI実装
- Prettierでコードフォーマット

### 実装

- React、React DOM、Tailwind CSS、Vite、Prettierなどの依存関係をインストール
- プロジェクト構造を整理（client/serverディレクトリ）
- Viteの設定
- Tailwind CSSの設定
- TypeScriptの設定を更新
- 基本的なReactコンポーネントを実装
- Honoサーバーを設定
- Prettierの設定
- 初期コミット

### テスト

- Vite開発サーバーを起動
- UIの表示を確認
- 投稿機能のテスト（投稿の作成と削除）
- localStorageによるデータ保存の確認

## 2025-03-06

### タイムラインページの移動

#### 計画
- タイムラインページを `/` から `/tl/` に移動
- SPAではなく、各ページごとに独立したエントリーポイントを持つ構造に変更
- ページ固有のコンポーネントと共通コンポーネントを分離

#### 実装
- 新しいディレクトリ構造を作成
  - `src/client/pages/home/` - ホームページ用
  - `src/client/pages/tl/` - タイムラインページ用
  - `src/client/shared/` - 共有コンポーネント用
- 現在の `App.tsx` の内容を `TimelinePage.tsx` に移動
- 新しいホームページコンポーネント `HomePage.tsx` を作成
- 各ページ用のエントリーポイントを作成
- Vite の設定を更新して複数のエントリーポイントをサポート
- サーバー側の設定を更新して新しいルートを処理
- `.gitignore` に `dist/` ディレクトリを追加し、ビルド成果物がリポジトリに含まれないようにした

#### 決定事項
- UI自体は変更せず、ファイル構造とルーティングのみ変更
- ページ固有のコンポーネントは各ページディレクトリ内の `components/` に配置
- 共通コンポーネントは `shared/` ディレクトリに配置

### 開発スクリプトの改善

#### 計画
- サーバーとクライアントの開発サーバーを同時に起動できるようにする
- 既存のスクリプトを整理して使いやすくする

#### 実装
- `concurrently` パッケージをインストール
- package.jsonのスクリプトを更新
  - 既存の `dev` スクリプトを `dev:server` にリネーム
  - 新しい `dev` スクリプトを追加して、`dev:server` と `dev:client` を同時に実行するように設定

#### 決定事項
- `npm run dev` で両方のサーバーを同時に起動
- 個別に起動したい場合は `npm run dev:server` または `npm run dev:client` を使用
- 出力を見やすくするために、concurrentlyの色分け機能を使用

## 2025-03-07 00:16

### 開発スクリプトの最適化

#### 計画
- `dev:client` コマンドからウェブサーバー機能を削除し、ファイルビルドのみを行うように変更
- `dev:server` が既にウェブサーバーを提供しているため、重複を避ける

#### 実装
- `package.json` の `dev:client` スクリプトを変更
  - 変更前: `"dev:client": "vite"`
  - 変更後: `"dev:client": "vite build --watch"`

#### 決定事項
- `npm run dev:client` はファイルの変更を監視して自動的にビルドするが、サーバーは起動しない
- `npm run dev:server` は引き続き Hono サーバーを起動して、ビルドされたファイルを配信する
- `npm run dev` は両方を同時に実行するので、開発体験は変わらない
